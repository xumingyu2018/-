{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\src\\views\\Register\\Register.vue?vue&type=style&index=0&id=7674e665&lang=css&scoped=true&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\src\\views\\Register\\Register.vue","mtime":1584968193356},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpib2R5IHsKICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsKICBtYXJnaW46IDBweDsKICBwYWRkaW5nOiAwcHg7Cn0KI2JnIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi8uLi9hc3NldHMvYmcuanBnKTsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgLyogZmlsdGVyOiBibHVyKDJweCk7ICAqLwp9CmEgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZm9udC1zaXplOiAxNXB4OwogIGNvbG9yOiB3aGl0ZTsKfQojY29udGVudCB7CiAgd2lkdGg6IDUwMHB4OwogIHBhZGRpbmc6IDQwcHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNTAlOwogIGxlZnQ6IDUwJTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIGJveC1zaGFkb3c6IDAgMTVweCAyNXB4IHJnYmEoMCwgMCwgMCwgMC41KTsKfQpoMSB7CiAgbWFyZ2luOiAwIDAgMzBweDsKICBmb250LXNpemU6IDMwcHg7CiAgY29sb3I6ICNlZWVlZWU7CiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmlucHV0Qm94IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWFyZ2luLWJvdHRvbTogMzBweDsKfQouaW5wdXRCb3ggaW5wdXQgewogIHdpZHRoOiAxMDAlOwogIHBhZGRpbmc6IDEwcHggMHB4OwogIGZvbnQtc2l6ZTogMTZweDsKICBjb2xvcjogI2VlZWVlZTsKICBib3JkZXI6IG5vbmU7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWVlZWU7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgb3V0bGluZS1zdHlsZTogbm9uZTsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9CgouaW5wdXRCb3ggbGFiZWwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBwYWRkaW5nOiAxMHB4IDA7CiAgZm9udC1zaXplOiAxNnB4OwogIGNvbG9yOiAjZWVlZWVlOwogIHBvaW50ZXItZXZlbnRzOiBub25lOwogIHRyYW5zaXRpb246IDAuNXM7Cn0KLmlucHV0Qm94IGlucHV0OmZvY3VzIH4gbGFiZWwsCi5pbnB1dEJveCBpbnB1dDp2YWxpZCB+IGxhYmVsIHsKICAvKjpmb2N1c+iOt+WPlueEpueCuSovCiAgLyogOnZhbGlkIOmcgOimgemFjeWQiHJlcXVpcmVk5L2/55SoIOW9k2lucHV06L6T5YWl5YaF5a655ZCO5bm25aSx5Y6754Sm54K55pe2IGxhYmVs5Lu754S25L+d5oyB5Lul5LiL5qC35byPICByZXF1aXJlZOWxnuaAp+inhOWumuW/hemcgOWcqOaPkOS6pOihqOWNleS5i+WJjeWhq+WGmei+k+WFpeWtl+autSDluIPlsJTnsbvlnosg44CCKi8KICAvKn7ojrflj5bniLblhYPntKDkuK3miYDmnIlsYWJlbOagh+etviovCiAgdG9wOiAtMzBweDsKICBsZWZ0OiAwcHg7CiAgY29sb3I6ICMwM2E5ZjQ7Cn0KW3R5cGU9ImJ1dHRvbiJdIHsKICBib3JkZXI6IG5vbmU7CiAgb3V0bGluZTogbm9uZTsKICBjb2xvcjogI2ZmZjsKICBiYWNrZ3JvdW5kOiAjMDNhOWY0OwogIHBhZGRpbmc6IDEwcHggMjBweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYm9yZGVyLXJhZGl1czogNXB4Owp9Ci5pbnB1dEJveCAjdGVsZXBob25lY2hlY2sgewogIHdpZHRoOiA1NSU7Cn0KLmlucHV0Qm94ICNjaGVjayB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICByaWdodDogMDsKICB3aWR0aDogNDAlOwogIGJvcmRlcjogbm9uZTsKICBvdXRsaW5lOiBub25lOwogIGNvbG9yOiAjZmZmOwogIGJhY2tncm91bmQ6ICMwM2E5ZjQ7CiAgcGFkZGluZzogMTBweCAyMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KI2NvbnRlbnQgYSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMzVweDsKICBsZWZ0OiAzMzBweDsKICBjb2xvcjogIzAzYTlmNDsKICBmb250LXNpemU6IDEzcHg7Cn0KLnRpcE1zZyB7CiAgY29sb3I6ICNhYWE7Cn0KLyog6ZSZ6K+v5o+Q56S65L+h5oGv5qC35byPICovCi5lcnJvciB7CiAgY29sb3I6ICNmMDA7Cn0KLyog5oiQ5Yqf5o+Q56S65L+h5oGv5qC35byPICovCi5zdWNjZXNzIHsKICBjb2xvcjogIzBmMDsKfQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views/Register","sourcesContent":["<template>\n  <div>\n    <div id=\"bg\"></div>\n    <a href=\"/index/home\">去首页</a>\n    <div id=\"content\">\n      <h1>注册</h1>\n      <!-- <form action id=\"reg\" method=\"GET\"> -->\n       <div class=\"inputBox\">\n        <input\n          type=\"text\"\n          v-model=\"registerUser.tel\"\n          id=\"tel\"\n          required\n          @focus=\"tel_tip('focus')\"\n          @blur=\"tel_tip('blur')\"\n        />\n        <label>手机号码</label>\n        <span class=\"tipMsg\"></span>\n      </div>\n      <div class=\"inputBox\">\n        <input\n          type=\"password\"\n          v-model=\"registerUser.password\"\n          id=\"password\"\n          required\n          @focus=\"pwd_tip('focus')\"\n          @blur=\"pwd_tip('blur')\"\n        />\n        <label>密码</label>\n        <span class=\"tipMsg\"></span>\n      </div>\n      <div class=\"inputBox\">\n        <input\n          type=\"password\"\n          v-model=\"registerUser.password2\"\n          id=\"password2\"\n          required\n          @focus=\"pwdcheck_tip('focus')\"\n          @blur=\"pwdcheck_tip('blur')\"\n        />\n        <label>确认密码</label>\n        <span class=\"tipMsg\"></span>\n      </div>\n     \n      <input type=\"button\" value=\"注册\" id=\"submit\" @click=\"register()\" />\n      <a href=\"/login\">已账号？去登录→</a>\n      <!-- </form> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"register\",\n  data: function() {\n    return {\n      registerUser: {\n        username: \"\",\n        tel: \"\",\n        password: \"\",\n        password2: \"\",\n        messagecheck: \"\",\n        type: \"0\"\n      },\n      isUsernameOk: false,\n      isPasswordOk: false,\n      isCpasswordOk: false,\n      isTelephoneOK: false,\n      isMessageOk: false,\n      code: null\n    };\n  },\n  methods: {\n    pwd_tip(flag) {\n      var span = document.getElementById(\"password\").nextElementSibling\n        .nextElementSibling;\n      if (flag == \"focus\") {\n        span.className = \"tipMsg\";\n        span.innerHTML = \"密码必须英文+数字，长度8至15位\";\n      } else {\n        if (this.registerUser.password == \"\") {\n          span.className = \"error\";\n          span.innerHTML = \"密码不能为空\";\n          this.registerUser.password = \"\";\n          this.isPasswordOk = false;\n          return;\n        }\n        var pwReg = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]+$/;\n        var res = pwReg.test(this.registerUser.password);\n        if (!res) {\n          span.className = \"error\";\n          span.innerHTML = \"密码必须英文+数字\";\n          this.registerUser.password = \"\";\n          this.isPasswordOk = false;\n          return;\n        }\n        var pwleng = 0;\n        for (var i = 0; i < this.registerUser.password.length; i++) {\n          pwleng++;\n          if (pwleng > 15) {\n            span.className = \"error\";\n            span.innerHTML = \"密码不能超过15位！\";\n            this.registerUser.password = \"\";\n            this.isPasswordOk = false;\n            return;\n          }\n        }\n        if (pwleng < 8) {\n          span.className = \"error\";\n          span.innerHTML = \"密码不能低于8位！\";\n          this.registerUser.passwords = \"\";\n          this.isPasswordOk = false;\n          return;\n        } else {\n          span.className = \"success\";\n          span.innerHTML = \"√\";\n          this.isPasswordOk = true;\n        }\n      }\n    },\n    pwdcheck_tip(flag) {\n      var span = document.getElementById(\"password2\").nextElementSibling\n        .nextElementSibling;\n      if (flag == \"focus\") {\n        span.className = \"tipMsg\";\n        span.innerHTML = \"确认密码\";\n      } else {\n        if (this.registerUser.password2 == \"\") {\n          span.className = \"error\";\n          span.innerHTML = \"不能为空\";\n          this.registerUser.password2 = \"\";\n          this.isCpasswordOk = false;\n          return;\n        }\n        if (this.registerUser.password2 != this.registerUser.password) {\n          span.className = \"error\";\n          span.innerHTML = \"两次输入的密码不同，请重新输入\";\n          this.registerUser.password2 = \"\";\n          this.isCpasswordOk = false;\n          return;\n        } else {\n          span.className = \"success\";\n          span.innerHTML = \"√\";\n          this.isCpasswordOk = true;\n        }\n      }\n    },\n    tel_tip(flag) {\n      var span = document.getElementById(\"tel\").nextElementSibling\n        .nextElementSibling;\n      if (flag == \"focus\") {\n        span.className = \"tipMsg\";\n        span.innerHTML = \"请输入手机号\";\n      } else {\n        var telReg = /^1(3|4|5|7|8)\\d{9}$/;\n        var res = telReg.test(this.registerUser.tel);\n        if (this.registerUser.tel == \"\") {\n          span.className = \"error\";\n          span.innerHTML = \"不能为空\";\n          this.registerUser.tel = \"\";\n          this.isTelephoneOK = false;\n          return;\n        }\n        if (!res) {\n          span.className = \"error\";\n          span.innerHTML = \"请输入有效号码！\";\n          this.isTelephoneOK = false;\n          return;\n        } else {\n          span.className = \"success\";\n          span.innerHTML = \"√\";\n          this.isTelephoneOK = true;\n        }\n      }\n    },\n    mess_tip(flag) {\n      var span = document.getElementById(\"messagecheck\").nextElementSibling\n        .nextElementSibling;\n      if (flag == \"focus\") {\n        span.className = \"tipMsg\";\n        span.innerHTML = \"请输入验证码\";\n      } else {\n        if (this.registerUser.messagecheck == \"\") {\n          span.className = \"error\";\n          span.innerHTML = \"不能为空\";\n          this.registerUser.messagecheck = \"\";\n          this.isMessageOk = false;\n          return;\n        }\n        if (this.registerUser.messagecheck != this.code) {\n          span.className = \"error\";\n          span.innerHTML = \"验证码不正确请重新输入\";\n          this.registerUser.messagecheck = \"\";\n          this.isMessageOk = false;\n          return;\n        } else {\n          span.className = \"success\";\n          span.innerHTML = \"√\";\n          this.isMessageOk = true;\n        }\n      }\n    },\n    check() {\n      if (this.registerUser.tel) {\n        var check = document.getElementById(\"check\");\n        console.log(this.registerUser.tel);\n        this.$axios\n          .post(\"http://localhost:3000/regist/getVode\", this.registerUser)\n          .then(res => {\n            console.log(res);\n            if (res.data.data) {\n              this.$message({\n                showClose: true,\n                message: res.data.msg,\n                type: \"success\"\n              });\n              this.code = res.data.data;\n              var time = new Date();\n              time.setMinutes(time.getMinutes() + 2);\n              var now_time = new Date();\n              var timmer = 120;\n              var timer = window.setInterval(function() {\n                check.value = timmer-- + \"秒后重新获取\";\n                if (timmer == -2) {\n                  timmer = 0;\n                  check.value = \"获取验证码\";\n                  check.disabled = false;\n                  console.log(check.disabled);\n                  check.style.backgroundColor = \"#03a9f4\";\n                  clearInterval(timer);\n                } else {\n                  check.disabled = true;\n                }\n                if (check.disabled) {\n                  check.style.backgroundColor = \"#aaa\";\n                }\n              }, 1000);\n            } else {\n              this.$message.error(res.data.msg);\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      } else {\n        this.$message.error(\"请输入手机号码\");\n        var telephone = document.getElementById(\"tel\");\n        var span = telephone.nextElementSibling.nextElementSibling;\n        span.className = \"error\";\n        span.innerHTML = \"不能为空\";\n        this.value = \"\";\n        this.isTelephoneOK = false;\n      }\n    },\n    register() {\n      if (\n        this.isPasswordOk &&\n        this.isCpasswordOk &&\n        this.isTelephoneOK \n      ) {\n       \n        let pojo = {\n          username: this.registerUser.tel,\n          userpwd: this.registerUser.password\n        }\n        this.$axios\n          .post(\"/api/regUser\", pojo)\n          .then(res => {\n        console.log(res);\n            if(res.data==\"1\"){\n              this.$message({\n                showClose: true,\n                message: '注册成功',\n                type: \"success\"\n              });\n                this.$router.push(\"/login\");\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      } else {\n        this.$message.error(\"注册失败,请填写有效信息\");\n      }\n    }\n  }\n};\n</script>\n<style lang=\"css\" scoped>\nbody {\n  font-family: sans-serif;\n  margin: 0px;\n  padding: 0px;\n}\n#bg {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-image: url(../../assets/bg.jpg);\n  background-size: cover;\n  background-repeat: no-repeat;\n  /* filter: blur(2px);  */\n}\na {\n  position: relative;\n  text-decoration: none;\n  font-size: 15px;\n  color: white;\n}\n#content {\n  width: 500px;\n  padding: 40px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: rgba(0, 0, 0, 0.5);\n  box-sizing: border-box;\n  border-radius: 10px;\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.5);\n}\nh1 {\n  margin: 0 0 30px;\n  font-size: 30px;\n  color: #eeeeee;\n  font-weight: normal;\n  text-align: center;\n}\n.inputBox {\n  position: relative;\n  margin-bottom: 30px;\n}\n.inputBox input {\n  width: 100%;\n  padding: 10px 0px;\n  font-size: 16px;\n  color: #eeeeee;\n  border: none;\n  border-bottom: 1px solid #eeeeee;\n  background: transparent;\n  outline-style: none;\n  margin-bottom: 10px;\n}\n\n.inputBox label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 10px 0;\n  font-size: 16px;\n  color: #eeeeee;\n  pointer-events: none;\n  transition: 0.5s;\n}\n.inputBox input:focus ~ label,\n.inputBox input:valid ~ label {\n  /*:focus获取焦点*/\n  /* :valid 需要配合required使用 当input输入内容后并失去焦点时 label任然保持以下样式  required属性规定必需在提交表单之前填写输入字段 布尔类型 。*/\n  /*~获取父元素中所有label标签*/\n  top: -30px;\n  left: 0px;\n  color: #03a9f4;\n}\n[type=\"button\"] {\n  border: none;\n  outline: none;\n  color: #fff;\n  background: #03a9f4;\n  padding: 10px 20px;\n  cursor: pointer;\n  border-radius: 5px;\n}\n.inputBox #telephonecheck {\n  width: 55%;\n}\n.inputBox #check {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 40%;\n  border: none;\n  outline: none;\n  color: #fff;\n  background: #03a9f4;\n  padding: 10px 20px;\n  cursor: pointer;\n  border-radius: 5px;\n}\n#content a {\n  position: absolute;\n  bottom: 35px;\n  left: 330px;\n  color: #03a9f4;\n  font-size: 13px;\n}\n.tipMsg {\n  color: #aaa;\n}\n/* 错误提示信息样式 */\n.error {\n  color: #f00;\n}\n/* 成功提示信息样式 */\n.success {\n  color: #0f0;\n}\n</style>\n"]}]}