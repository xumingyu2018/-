{"remainingRequest":"C:\\Users\\PowerThunder\\Desktop\\xmy\\vuetravel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PowerThunder\\Desktop\\xmy\\vuetravel\\src\\views\\User\\children\\UserCollection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PowerThunder\\Desktop\\xmy\\vuetravel\\src\\views\\User\\children\\UserCollection.vue","mtime":1586963434788},{"path":"C:\\Users\\PowerThunder\\Desktop\\xmy\\vuetravel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\PowerThunder\\Desktop\\xmy\\vuetravel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlckNvbGxlY3Rpb24iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2xsZWN0aW9uczogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBhbGxwYWdlczogbnVsbCwKICAgICAgcGFnZXNpemU6IDQsCiAgICAgIHNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGxldCB0dXNlciA9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidHVzZXIiKSkgCiAgICAvLyDmn6Xor6LnlKjmiLfngrnotZ4KICAgIHRoaXMuJGF4aW9zCiAgICAgIC5wb3N0KCIvYXBpL3F1ZXJ5Q29sbGVjdEJ5VSIse3VzZXJpZDp0dXNlci5pZH0pCiAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuY29sbGVjdGlvbnMgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMuYWxscGFnZXMgPSByZXMuZGF0YS5sZW5ndGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIumUmeivr+S/oeaBryIgKyBlcnIpOwogICAgICB9KQogICAgICAuZmluYWxseShmdW5jdGlvbigpIHsKICAgICAgICAvLyBhbHdheXMgZXhlY3V0ZWQKICAgICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQaWMocGljKSB7CiAgICAgIC8v57uZ5Zu+54mH5ZCN5Yqg5LiK5pyN5Yqh5Zmo56uv6K6/6Zeu6Lev5b6ECiAgICAgIGlmIChwaWMgPT0gImNvdmVyIiB8fCBwaWMgPT0gbnVsbCkgewogICAgICAgIHBpYyA9ICJwcmltYXJ5Q292ZXIuanBnIjsKICAgICAgfQogICAgICBsZXQgcGF0aCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvY292ZXJQaWMvIiArIHBpYzsKICAgICAgcmV0dXJuIHBhdGg7CiAgICB9LAogICAgZ2V0SGVhZFBpYyhwaWMpIHsKICAgICAgLy/nu5nlm77niYflkI3liqDkuIrmnI3liqHlmajnq6/orr/pl67ot6/lvoQKICAgICAgbGV0IHBhdGggPSAiIjsKICAgICAgaWYgKHBpYyA9PSBudWxsIHx8IHBpYyA9PSAiIiB8fCBwaWMgPT0gImhlYWRQaWMiKSB7CiAgICAgICAgcGljID0gInByaW1hcnlIZWFkLmpwZWciOwogICAgICB9CiAgICAgIHBhdGggPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL3VwbG9hZEhlYWRQaWMvIiArIHBpYzsKICAgICAgcmV0dXJuIHBhdGg7CiAgICB9LAogICAgZ28odHlwZSwgaWQpIHsKICAgICAgIGNvbnNvbGUubG9nKHR5cGUsaWQpCiAgICAgIHZhciBzdHJhdGVneSA9IHsgdHlwZSwgaWQgfTsKICAgICAgdmFyIGluZm8gPSBKU09OLnN0cmluZ2lmeShzdHJhdGVneSk7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImluZm8iLCBpbmZvKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9pbmRleC9mdnN0cmF0ZWd5Iik7CiAgICB9LAogICAgY3VycmVudF9jaGFuZ2UoY3VycmVudFBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["UserCollection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserCollection.vue","sourceRoot":"src/views/User/children","sourcesContent":["<template>\n  <div id=\"content\">\n    <div v-if=\"show\">\n      <div class=\"card-deck flex-column\" id=\"collectArticle\">\n        <div\n          class=\"card d-flex flex-row mb-2 shadow-sm p-3 bg-white rounded\"\n          v-for=\"collection in collections.slice(\n            (currentPage - 1) * pagesize,\n            currentPage * pagesize\n          )\"\n          :key=\"collection.id\"\n        >\n          <img\n            class=\"card-img-top\"\n            :src=\"collection.jindian.posterurl\"\n            alt=\"collectionArticlePic\"\n          />\n          <div class=\"card-body\">\n            <a\n              href=\"#\"\n              @click=\"go(collection.type, collection.goodsid)\"\n              class=\"card-title\"\n              >{{ collection.jindian.name }}</a\n            >\n            <p\n              class=\"card-text overflow-hidden\"\n              style=\"height: 4em;text-overflow:ellipsis;\"\n              v-html=\"collection.jindian.actor\"\n            ></p>\n            <p class=\"text-muted\">\n              <i class=\"fa fa-map-marker mr-2\" aria-hidden=\"true\">\n                {{ collection.jindian.isshow }}</i\n              >\n              \n              <i class=\"el-icon-star-off mr-2\" style=\"float:right\">\n                {{ collection.jindian.playinfo }}</i\n              >\n            </p>\n          </div>\n        </div>\n      </div>\n      <!-- 分页 -->\n      <div class=\"block\">\n        <el-pagination\n          :page-size=\"pagesize\"\n          :pager-count=\"11\"\n          layout=\"prev, pager, next\"\n          :total=\"allpages\"\n          @current-change=\"current_change\"\n        ></el-pagination>\n      </div>\n    </div>\n    <div v-else>\n      <h3>暂无点赞攻略，快去看看吧~</h3>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"UserCollection\",\n  data() {\n    return {\n      collections: [],\n      currentPage: 1,\n      allpages: null,\n      pagesize: 4,\n      show: false\n    };\n  },\n  created() {\n    let tuser =JSON.parse(localStorage.getItem(\"tuser\")) \n    // 查询用户点赞\n    this.$axios\n      .post(\"/api/queryCollectByU\",{userid:tuser.id})\n      .then(res => {\n        console.log(res)\n        if (res.data) {\n          this.show = true;\n          this.collections = res.data;\n          this.allpages = res.data.length;\n        } else {\n          this.show = false;\n        }\n      })\n      .catch(err => {\n        console.log(\"错误信息\" + err);\n      })\n      .finally(function() {\n        // always executed\n      });\n  },\n  methods: {\n    getPic(pic) {\n      //给图片名加上服务器端访问路径\n      if (pic == \"cover\" || pic == null) {\n        pic = \"primaryCover.jpg\";\n      }\n      let path = \"http://localhost:3000/coverPic/\" + pic;\n      return path;\n    },\n    getHeadPic(pic) {\n      //给图片名加上服务器端访问路径\n      let path = \"\";\n      if (pic == null || pic == \"\" || pic == \"headPic\") {\n        pic = \"primaryHead.jpeg\";\n      }\n      path = \"http://localhost:3000/uploadHeadPic/\" + pic;\n      return path;\n    },\n    go(type, id) {\n       console.log(type,id)\n      var strategy = { type, id };\n      var info = JSON.stringify(strategy);\n      sessionStorage.setItem(\"info\", info);\n      this.$router.push(\"/index/fvstrategy\");\n    },\n    current_change(currentPage) {\n      this.currentPage = currentPage;\n    }\n  }\n};\n</script>\n<style scoped>\nh3 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: #ccc;\n}\n.block {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n#collectArticle img:first-child {\n  width: 12rem;\n  height: 10rem;\n}\n.card-body {\n  padding-bottom: 0;\n  width: 10rem;\n  height: 5rem;\n}\n.text-muted {\n  margin: 0;\n}\n/* .text-muted img {\n  width: 20px;\n  height: 20px;\n} */\n.card {\n  color: #666;\n}\n.card a {\n  font-size: 20px;\n  color: #333;\n}\n.card:hover a {\n  color: #ff9d00;\n}\n</style>\n"]}]}