{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\src\\views\\Line\\children\\LineStrategy.vue?vue&type=style&index=0&id=4a0ec596&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\src\\views\\Line\\children\\LineStrategy.vue","mtime":1621956323934},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\yuepai_v2\\vuetravel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKKiB7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KLmp1bWJvdHJvbiB7CiAgaGVpZ2h0OiA0MHJlbTsKICB3aWR0aDogMTAwJTsKfQouY29udGFpbmVyIHsKICBtYXJnaW46IDAgYXV0bzsKfQouY29udGFpbmVyLWZsdWlkIC5jb250YWluZXIgLmNvbi1zcGFuIHsKICBjb2xvcjogIzg4ODsKICBmb250LXNpemU6IDEycHg7Cn0KCi5jb250YWluZXItZmx1aWQgLmNvbnRhaW5lciAuY29uLXNwYW46aG92ZXIgewogIGNvbG9yOiAjZmY5ZDAwOwp9CgojdGl0bGUgewogIGhlaWdodDogODBweDsKICBsaW5lLWhlaWdodDogODBweDsKfQoKI3RpdGxlIGgyIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgd2lkdGg6IDYwJTsKfQoKI3RpdGxlID4gZGl2IHsKICBmbG9hdDogcmlnaHQ7CiAgLyogZGlzcGxheTogaW5saW5lLWJsb2NrOyAqLwogIHdpZHRoOiA0MCU7Cn0KI3RpdGxlICNoMi1yaWdodCAuaW1nLXNwYW46bm90KDpsYXN0LWNoaWxkKTpob3ZlciB7CiAgY29sb3I6ICNmZjlkMDA7CiAgY3Vyc29yOiBwb2ludGVyOwp9CiN0aXRsZSAjaDItcmlnaHQgLmltZy1zcGFuOmxhc3QtY2hpbGQ6aG92ZXIgewogIGNvbG9yOiByZWQ7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5vcGVyYXRlZCB7CiAgY29sb3I6ICNmZjlkMDA7Cn0KLmNvbnRhaW5lci1mbHVpZCAuY29udGFpbmVyIHAgc3BhbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOWQwMDsKfQoKLmNvbi1tYWluIHsKICBjbGVhcjogYm90aDsKICB0ZXh0LWluZGVudDogMmVtOwp9Ci8qIOivhOiuuuagjyAqLwoubC1jb21tZW50IHsKICBtYXJnaW4tdG9wOiA4NXB4Owp9CgouY29tLWZvcm0gLmZtLXRhcmUgdGV4dGFyZWEgewogIGhlaWdodDogMjAwcHg7CiAgd2lkdGg6IDEwMDBweDsKICBwYWRkaW5nOiAxNHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNlNWU1ZTU7CiAgcmVzaXplOiBub25lOwogIG91dGxpbmU6IDA7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBjb2xvcjogIzY2NjsKfQoKLmNvbS1mb3JtIC51c2VyLWxvZyB0ZXh0YXJlYSB7CiAgYm9yZGVyOiAxcHggc29saWQgI2ZmYTIwMDsKfQoKYnV0dG9uLAppbnB1dCwKb3B0Z3JvdXAsCnNlbGVjdCwKdGV4dGFyZWEgewogIGNvbG9yOiBpbmhlcml0OwogIGZvbnQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9CgouY29tLWJveCB1bCBsaSB7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU1ZTU7CiAgcGFkZGluZzogMTVweCAwOwp9CgouY29tLWJveCBoMiB7CiAgZm9udC1zaXplOiAyNHB4OwogIGNvbG9yOiAjMzMzOwogIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgbGluZS1oZWlnaHQ6IDI0cHg7CiAgbWFyZ2luOiAzNnB4IDA7Cn0KCi5jb20tYm94IGgyIHsKICBmb250LXNpemU6IDI0cHg7CiAgY29sb3I6ICMzMzM7CiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICBsaW5lLWhlaWdodDogMjRweDsKICBtYXJnaW46IDM2cHggMDsKfQoKLmNvbS1ib3ggewogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTVlNWU1Owp9CgouY29tLWZvcm0gewogIG1hcmdpbi10b3A6IDUwcHg7Cn0KLmNvbS1mb3JtIC5mbS10YXJlIGJ1dHRvbiB7CiAgd2lkdGg6IDExNHB4OwogIGhlaWdodDogNDBweDsKICBiYWNrZ3JvdW5kOiAjZmZhMjAwOwogIGJvcmRlcjogMDsKICBvdXRsaW5lOiAwOwogIGN1cnNvcjogcG9pbnRlcjsKICBkaXNwbGF5OiBibG9jazsKICBtYXJnaW46IDIwcHggMDsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgZm9udC1zaXplOiAxNnB4OwogIGNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBhZGRpbmc6IDA7CiAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgbWFyZ2luLWxlZnQ6IDg1MHB4Owp9CgpsaSB7CiAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLmNvbS1ib3ggbGkgLmltZyB7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIC8qIGRpc3BsYXk6IGlubGluZS1ibG9jazsgKi8KICBmbG9hdDogbGVmdDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmltZyBzcGFuIHsKICBjb2xvcjogI2ZmOWQwMDsKfQoKLmNvbS1ib3ggLmluZm8gewogIHdpZHRoOiAxMDAwcHg7CiAgZmxvYXQ6IGxlZnQ7Cn0KCi5jb20tYm94IC5pbmZvIGEgewogIGNvbG9yOiAjZmY5ZDAwOwogIGN1cnNvcjogcG9pbnRlcjsKfQouY29tLWJveCAuaW5mbyAjcmVwbHktaDMgewogIGZvbnQtc2l6ZTogMThweDsKICBjb2xvcjogYmx1ZTsKICBmb250LXdlaWdodDogbm9ybWFsOwogIGxpbmUtaGVpZ2h0OiAyOHB4Owp9CgouY29tLWJveCAuaW5mbyBoNCB7CiAgZGlzcGxheTogaW5saW5lOwogIGZvbnQtc2l6ZTogMTJweDsKICBjb2xvcjogIzk5OTsKICBmb250LXdlaWdodDogbm9ybWFsOwogIGxpbmUtaGVpZ2h0OiAxNHB4Owp9CgouY29tLWJveCAuaW5mbyAuY29tLWNvbnQgewogIGZvbnQtc2l6ZTogMTRweDsKICBjb2xvcjogIzY2NjsKICBsaW5lLWhlaWdodDogMjhweDsKICBtYXJnaW4tdG9wOiA4cHg7Cn0KLmNvbS1ib3ggLmluZm8gLmluZm8tc3BhbiB7CiAgbWFyZ2luLXRvcDogMjBweDsKICB3aWR0aDogMTAwJTsKfQouY29tLWJveCAuaW5mbyAuaW5mby1zcGFuIHNwYW4gewogIGZsb2F0OiByaWdodDsKICBtYXJnaW4tcmlnaHQ6IDIwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5jb20tYm94IC5pbmZvIC5pbmZvLXNwYW4gc3Bhbjpob3ZlciB7CiAgY29sb3I6ICNmZjlkMDA7Cn0KLmNvbS1ib3ggLmluZm8gdWwgewogIGNsZWFyOiBib3RoOwogIG1hcmdpbi1sZWZ0OiA4MHB4Owp9Ci5jb20tYm94IC5pbmZvICNyZXBseXMgbGkgewogIGRpc3BsYXk6IG5vbmU7Cn0KLmNvbS1ib3ggLmluZm86aG92ZXIgI3JlcGx5cyBsaSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KLmNvbS1ib3ggewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQouYmxvY2sgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDA7CiAgbGVmdDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApOwp9Cg=="},{"version":3,"sources":["LineStrategy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LineStrategy.vue","sourceRoot":"src/views/Line/children","sourcesContent":["<template>\n  <div>\n    <div v-for=\"stra in strategy\" :key=\"stra.Id\">\n      <img\n        :src=\"stra.url\"\n        alt\n        class=\"jumbotron\"\n        style=\"height:400px; width:800px;margin-left:100px\"\n      />\n      <div class=\"container-fluid\" style=\"background-color: #fafafa;\">\n        <div class=\"container\" style=\"padding-top:10px;padding-bottom:10px;\">\n          <span class=\"con-span\">约拍地点</span>\n          <span>></span>\n          <span class=\"con-span\">{{ stra.address }}</span>\n          <div id=\"title\">\n            <h2>{{ stra.title }}</h2>\n            <div id=\"h2-right\">\n              <div class=\"ext-r row\" style=\"justify-content:space-around;\">\n                <div\n                  class=\"img-span\"\n                  @click=\"updateCollectionNum()\"\n                  id=\"operation\"\n                  v-if=\"stra.ssStatus < 0 ? false : true\"\n                ></div>\n              </div>\n            </div>\n          </div>\n          <p>初次访问{{ stra.address }}的蜂蜂会选择这条线路</p>\n        </div>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"main\">\n          <h5>路线概览</h5>\n          <div class=\"route\" v-html=\"stra.content\">\n            <!-- 改名了 -->\n          </div>\n        </div>\n        <!-- 评论内容 -->\n        <div class=\"container\">\n          <div class=\"com-box mt-5\">\n            <h2>评论</h2>\n            <div>\n              <ul id=\"comments\" data-page=\"1\" data-id=\"0\">\n                <li\n                  class=\"clearfix comment_item\"\n                  data-id=\"1203904\"\n                  data-replied=\"0\"\n                  v-for=\"dis in discuss.slice(\n                  (currentPage - 1) * pagesize,\n                  currentPage * pagesize\n                )\"\n                  :key=\"dis.commentId\"\n                >\n                  <div class=\"img mr-2\" @click=\"go(dis.userId)\">\n                    <img style=\"height:50px;width:50px;border-radius:50%\" src=\"../../../assets/touxiang.png\" />\n                  </div>\n                  <div class=\"info\">\n                    <a @click=\"go(dis.userId)\">{{ dis.username }}:</a>\n                    <span class=\"com-cont ml-1\">{{ dis.content }}</span>\n                    <br />\n                    <div class=\"info-span\">\n                      <h4>{{ dis.creattime }}</h4>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n              <div class=\"block\">\n                <el-pagination\n                  :page-size=\"pagesize\"\n                  :pager-count=\"11\"\n                  layout=\"prev, pager, next\"\n                  :total=\"allpages\"\n                  @current-change=\"current_change\"\n                ></el-pagination>\n              </div>\n            </div>\n          </div>\n          <!-- 最后的插入评论 -->\n          <div class=\"clearfix com-form\">\n            <div class=\"fm-tare user-log\">\n              <div v-if=\"isShow === true\">\n                <textarea v-model=\"newcommentContent\" placeholder=\"说点什么吧...\" id=\"textarea\"></textarea>\n              </div>\n              <div v-if=\"isShow === false\" id=\"readonly\" class=\"ml-5 mb-5\">\n                <h3 style=\"color:red;text-align:center\">由于您的当前用户状态不正常，已禁止评论功能</h3>\n              </div>\n              <el-form v-if=\"isShow === true\">\n                <el-form-item>\n                  <el-button @click=\"addComment()\" id=\"toke\">评论</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 返回顶部 -->\n    <el-backtop :bottom=\"200\"></el-backtop>\n  </div>\n</template>\n<script>\nimport jwt_decode from \"jwt-decode\";\n\nexport default {\n  name: \"linestrategy\",\n  data() {\n    return {\n      info: [],\n      strategy: [],\n      hotarticles: [],\n      // strategyType: \"personalrow\"\n      //登录用户信息\n      role: [],\n      //全部评论\n      discuss: [],\n      //插入评论内容\n      newcommentContent: \"\",\n      //全部回复\n      replys: [],\n      //插入回复\n      // newReplyContent: \"\",\n      //当前登录用户id\n      userId: \"\",\n      loading: false,\n      isShow: true,\n      currentPage: 1,\n      pagesize: 10,\n      allpages: 0,\n      userStatus: \"\"\n    };\n  },\n  created() {\n    //获取传来的攻略类型和id\n    var info = JSON.parse(sessionStorage.getItem(\"info\")); //info=[type,id]\n    this.info = info;\n    console.log(this.info);\n    this.getrowdetail();\n    this.getRowComment()\n  },\n  methods: {\n    getrowdetail() {\n      console.log(this.info);\n      this.$axios\n        .post(\"/api/queryRowByGoodsId\", {\n          Id: this.info.id\n        })\n        .then(res => {\n          this.strategy = res.data;\n        })\n        .catch(err => {\n          console.log(\"错误信息\" + err);\n        });\n    },\n    getRowComment(){\n      console.log(this.info.id)\n        this.$axios\n        .post(\"/api/queryCommentByGoodsId2\", {\n          goodsid: this.info.id\n        })\n        .then(res => {\n          console.log(res)\n          this.discuss = res.data;\n          this.allpages = res.data.length;\n        })\n        .catch(err => {\n          console.log(\"错误信息\" + err);\n        });\n    },\n    //更新点赞数\n    updateCollectionNum() {\n      if (localStorage.getItem(\"mytoken\")) {\n        var judge;\n        this.$axios\n          .post(\"http://localhost:3000/operation/collect\", {\n            strategyId: this.info.id,\n            strategyType: this.info.type,\n            userId: this.userId\n          })\n          .then(res => {\n            console.log(res);\n            judge = parseInt(res.data.data);\n            if (judge == 1) {\n              this.strategy[0].prCollectionNum =\n                parseInt(this.strategy[0].prCollectionNum) + 1;\n              this.$message({\n                showClose: true,\n                message: \"点赞成功！\",\n                type: \"success\"\n              });\n              $(\"#operation\").addClass(\"operated\");\n              $(\"#icon\").removeClass(\"el-icon-star-off\");\n              $(\"#icon\").addClass(\"el-icon-star-on\");\n            } else if (judge == -1) {\n              this.strategy[0].prCollectionNum =\n                parseInt(this.strategy[0].prCollectionNum) - 1;\n              if (this.strategy[0].prCollectionNum < 0) {\n                this.strategy[0].prCollectionNum = 0;\n              }\n              this.$message({\n                showClose: true,\n                message: \"取消点赞成功！\",\n                type: \"warning\"\n              });\n              $(\"#operation\").removeClass(\"operated\");\n              $(\"#icon\").removeClass(\"el-icon-star-on\");\n              $(\"#icon\").addClass(\"el-icon-star-off\");\n            }\n          })\n          .catch(err => {\n            console.log(\"错误信息\" + err);\n          });\n      } else {\n        this.$message({\n          showClose: true,\n          message: \"亲，请先登录呦！\",\n          type: \"warning\"\n        });\n      }\n    },\n    //更新点赞数\n    updateLikeNum() {\n      if (localStorage.getItem(\"mytoken\")) {\n        var judge;\n        this.$axios\n          .post(\"http://localhost:3000/operation/like\", {\n            strategyId: this.info.id,\n            strategyType: this.info.type,\n            userId: this.userId\n          })\n          .then(res => {\n            console.log(res);\n            judge = parseInt(res.data.data);\n            if (judge == 1) {\n              this.strategy[0].prLikeNum =\n                parseInt(this.strategy[0].prLikeNum) + 1;\n              console.log(this.strategy.prLikeNum);\n              this.$message({\n                showClose: true,\n                message: \"点赞成功！\",\n                type: \"success\"\n              });\n              $(\"#operation1\").addClass(\"operated\");\n            } else if (judge == -1) {\n              this.strategy[0].prLikeNum =\n                parseInt(this.strategy[0].prLikeNum) - 1;\n              console.log(this.strategy.prLikeNum);\n              this.$message({\n                showClose: true,\n                message: \"取消点赞成功！\",\n                type: \"warning\"\n              });\n              $(\"#operation1\").removeClass(\"operated\");\n            }\n          })\n          .catch(err => {\n            console.log(\"错误信息\" + err);\n          });\n      } else {\n        this.$message({\n          showClose: true,\n          message: \"亲，请先登录呦！\",\n          type: \"warning\"\n        });\n      }\n    },\n    //获取头像\n    getHeadPic(pic) {\n      //给图片名加上服务器端访问路径\n      let path = \"\";\n      if (pic == null || pic == \"\" || pic == \"headPic\") {\n        pic = \"primaryHead.jpeg\";\n      }\n      path = \"http://localhost:3000/uploadHeadPic/\" + pic;\n      return path;\n    },\n    getCoverPic(pic) {\n      //给图片名加上服务器端访问路径\n      if (pic == \"cover\" || pic == null) {\n        pic = \"primaryCover.jpg\";\n      }\n      let path = \"http://localhost:3000/coverPic/\" + pic;\n      console.log(path);\n      return path;\n    },\n    // 跳转到作者首页\n    goFocus(strategyuserId) {\n      var strategyuserId = JSON.stringify(strategyuserId);\n      sessionStorage.setItem(\"strategyuserId\", strategyuserId);\n      this.$router.push(\"/index/focus\");\n    },\n\n    //添加评论\n    addComment() {\n      if (localStorage.getItem(\"mytoken\")) {\n        let tuser = JSON.parse(localStorage.getItem(\"tuser\"));\n        let data = {\n          username: tuser.username,\n          content: this.newcommentContent,\n          creattime: \"\",\n          goodsid: this.info.id,\n          info: \"\"\n        };\n        console.log(data);\n        this.$axios\n          .post(\"/api/addRowComent\", data)\n          .then(response => {\n            console.log(response);\n            this.$message({\n              showClose: true,\n              message: \"评论成功\",\n              type: \"warning\"\n            });\n            this.getRowComment();\n            this.newcommentContent = \"\";\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n      } else {\n        this.$message({\n          showClose: true,\n          message: \"亲，请先登录呦！\",\n          type: \"warning\"\n        });\n      }\n    },\n    // 删除评论\n    delComment(commentId) {\n      // if(confirm()){}\n      this.$confirm(\"此操作将删除该评论, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$axios\n            .post(\"http://localhost:3000/operation/deldiscuss\", {\n              commentId: commentId,\n              strategyId: this.info.id,\n              // userId:, 在后台token获取\n              strategyType: this.info.type\n              // commentContent,strategyId,userId,commentTime,strategyType\n            })\n            .then(res => {\n              //删除评论后实时刷新评论\n              this.$axios\n                .post(\"http://localhost:3000/operation/seldiscuss\", {\n                  strategyId: this.info.id,\n                  strategyType: this.info.type\n                })\n                .then(res => {\n                  this.discuss = res.data.data;\n                  this.allpages = res.data.data.length;\n                  if (this.allpages % this.pagesize == 0) {\n                    this.currentPage = this.currentPage - 1;\n                  }\n                })\n                .catch(err => {\n                  console.log(\"错误信息\" + err);\n                });\n            })\n            .catch(err => {\n              console.log(\"错误信息\" + err);\n            });\n        })\n        .catch(() => {\n          // this.$message({\n          //   type: 'info',\n          //   message: '已取消删除'\n          // });\n        });\n    },\n    //显示提示框\n    openVn() {\n      const h = this.$createElement;\n      this.$message({\n        message: h(\"p\", null, [\n          h(\"span\", null, \"内容可以是 \"),\n          h(\"i\", { style: \"color: teal\" }, \"VNode\")\n        ])\n      });\n    },\n    current_change: function(currentPage) {\n      this.currentPage = currentPage;\n    }\n  }\n};\n</script>\n<style scoped>\n* {\n  margin: 0;\n  padding: 0;\n}\n.jumbotron {\n  height: 40rem;\n  width: 100%;\n}\n.container {\n  margin: 0 auto;\n}\n.container-fluid .container .con-span {\n  color: #888;\n  font-size: 12px;\n}\n\n.container-fluid .container .con-span:hover {\n  color: #ff9d00;\n}\n\n#title {\n  height: 80px;\n  line-height: 80px;\n}\n\n#title h2 {\n  display: inline-block;\n  width: 60%;\n}\n\n#title > div {\n  float: right;\n  /* display: inline-block; */\n  width: 40%;\n}\n#title #h2-right .img-span:not(:last-child):hover {\n  color: #ff9d00;\n  cursor: pointer;\n}\n#title #h2-right .img-span:last-child:hover {\n  color: red;\n  cursor: pointer;\n}\n.operated {\n  color: #ff9d00;\n}\n.container-fluid .container p span {\n  background-color: #ff9d00;\n}\n\n.con-main {\n  clear: both;\n  text-indent: 2em;\n}\n/* 评论栏 */\n.l-comment {\n  margin-top: 85px;\n}\n\n.com-form .fm-tare textarea {\n  height: 200px;\n  width: 1000px;\n  padding: 14px;\n  border: 1px solid #e5e5e5;\n  resize: none;\n  outline: 0;\n  border-radius: 5px;\n  font-size: 14px;\n  color: #666;\n}\n\n.com-form .user-log textarea {\n  border: 1px solid #ffa200;\n}\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit;\n  font: inherit;\n  margin: 0;\n}\n\n.com-box ul li {\n  border-top: 1px solid #e5e5e5;\n  padding: 15px 0;\n}\n\n.com-box h2 {\n  font-size: 24px;\n  color: #333;\n  font-weight: normal;\n  line-height: 24px;\n  margin: 36px 0;\n}\n\n.com-box h2 {\n  font-size: 24px;\n  color: #333;\n  font-weight: normal;\n  line-height: 24px;\n  margin: 36px 0;\n}\n\n.com-box {\n  border-top: 1px solid #e5e5e5;\n}\n\n.com-form {\n  margin-top: 50px;\n}\n.com-form .fm-tare button {\n  width: 114px;\n  height: 40px;\n  background: #ffa200;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n  display: block;\n  margin: 20px 0;\n  border-radius: 5px;\n  font-size: 16px;\n  color: rgb(255, 255, 255);\n  text-align: center;\n  padding: 0;\n  line-height: 30px;\n  margin-left: 850px;\n}\n\nli {\n  list-style: none;\n}\n\n.com-box li .img {\n  border-radius: 50%;\n  /* display: inline-block; */\n  float: left;\n  cursor: pointer;\n}\n.img span {\n  color: #ff9d00;\n}\n\n.com-box .info {\n  width: 1000px;\n  float: left;\n}\n\n.com-box .info a {\n  color: #ff9d00;\n  cursor: pointer;\n}\n.com-box .info #reply-h3 {\n  font-size: 18px;\n  color: blue;\n  font-weight: normal;\n  line-height: 28px;\n}\n\n.com-box .info h4 {\n  display: inline;\n  font-size: 12px;\n  color: #999;\n  font-weight: normal;\n  line-height: 14px;\n}\n\n.com-box .info .com-cont {\n  font-size: 14px;\n  color: #666;\n  line-height: 28px;\n  margin-top: 8px;\n}\n.com-box .info .info-span {\n  margin-top: 20px;\n  width: 100%;\n}\n.com-box .info .info-span span {\n  float: right;\n  margin-right: 20px;\n  cursor: pointer;\n}\n.com-box .info .info-span span:hover {\n  color: #ff9d00;\n}\n.com-box .info ul {\n  clear: both;\n  margin-left: 80px;\n}\n.com-box .info #replys li {\n  display: none;\n}\n.com-box .info:hover #replys li {\n  display: block;\n}\n.com-box {\n  position: relative;\n}\n.block {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n</style>\n"]}]}